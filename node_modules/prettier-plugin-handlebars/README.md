
# @webtaya/prettier-plugin-handlebars

A Prettier plugin for formatting Handlebars (.hbs, .handlebars) templates with full HTML support.

## Features

- ✅ **Complete Handlebars syntax support**:
  - Expressions: `{{user.name}}`, `{{capitalize title}}`
  - Block helpers: `{{#if}}`, `{{#each}}`, `{{#unless}}`, `{{#with}}`
  - Partials: `{{> "layout/header.hbs" title="About"}}`
  - Comments: `{{!-- comment --}}`
  - SubExpressions: `{{log (add 1 2)}}`
  - All helpers from [handlebars-helpers](https://github.com/helpers/handlebars-helpers)

- ✅ **HTML integration**: Full support for HTML formatting within Handlebars templates
- ✅ **Tailwind CSS compatible**: Works alongside prettier-plugin-tailwindcss
- ✅ **Production ready**: Comprehensive parsing and formatting

## Installation

```bash
npm install --save-dev @webtaya/prettier-plugin-handlebars
# or
yarn add --dev @webtaya/prettier-plugin-handlebars
```

## Usage

The plugin automatically formats `.hbs` and `.handlebars` files when Prettier runs. No additional configuration needed!

### CLI Usage

```bash
prettier --write "**/*.hbs"
```

### Configuration

Add to your `.prettierrc`:

```json
{
  "plugins": ["@webtaya/prettier-plugin-handlebars"],
  "handlebarsIndentWidth": 2,
  "handlebarsPreserveHelperSpacing": true
}
```

### With Tailwind CSS

```json
{
  "plugins": [
    "@webtaya/prettier-plugin-handlebars",
    "prettier-plugin-tailwindcss"
  ]
}
```

## Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `handlebarsIndentWidth` | `number` | `2` | Number of spaces for indentation |
| `handlebarsPreserveHelperSpacing` | `boolean` | `true` | Preserve spacing around helper arguments |

## Examples

### Before

```handlebars
{{#if user}}
<div class="user-profile">
<h1>{{user.name}}</h1>
{{#each user.posts}}
<article class="post">
<h2>{{this.title}}</h2>
<p>{{truncate this.content 150}}</p>
</article>
{{/each}}
</div>
{{else}}
<p>No user found</p>
{{/if}}
```

### After

```handlebars
{{#if user}}
  <div class="user-profile">
    <h1>{{user.name}}</h1>
    {{#each user.posts}}
      <article class="post">
        <h2>{{this.title}}</h2>
        <p>{{truncate this.content 150}}</p>
      </article>
    {{/each}}
  </div>
{{else}}
  <p>No user found</p>
{{/if}}
```

## Supported Handlebars Features

### Basic Syntax
- ✅ Expressions: `{{variable}}`
- ✅ Paths: `{{user.profile.name}}`
- ✅ Helpers: `{{capitalize title}}`
- ✅ String literals: `{{helper "string value"}}`
- ✅ Number literals: `{{add 1 2}}`

### Block Helpers
- ✅ `{{#if}}...{{/if}}`
- ✅ `{{#unless}}...{{/unless}}`
- ✅ `{{#each}}...{{/each}}`
- ✅ `{{#with}}...{{/with}}`
- ✅ `{{#if}}...{{else}}...{{/if}}`
- ✅ Custom block helpers

### Advanced Features
- ✅ Partials: `{{> partial}}`
- ✅ Partial arguments: `{{> partial key=value}}`
- ✅ SubExpressions: `{{outer (inner value)}}`
- ✅ Comments: `{{!-- comment --}}`
- ✅ HTML integration
- ✅ Whitespace control: `{{~variable~}}`

### Built-in Helpers
All Handlebars built-in helpers are supported:
- `if`, `unless`, `each`, `with`
- `lookup`, `log`
- `blockHelperMissing`, `helperMissing`

### handlebars-helpers Support
Full support for all helpers from the [handlebars-helpers](https://github.com/helpers/handlebars-helpers) library:
- **Array helpers**: `after`, `before`, `each`, `filter`, `first`, `join`, `last`, `length`, `map`, `reverse`, `sort`, etc.
- **Collection helpers**: `isEmpty`, `iterate`, `length`
- **Comparison helpers**: `and`, `or`, `eq`, `gt`, `gte`, `lt`, `lte`, `ne`
- **Date helpers**: `moment`, `date`
- **HTML helpers**: `css`, `js`, `sanitize`
- **Inflection helpers**: `camelize`, `capitalize`, `hyphenate`, `pluralize`
- **Math helpers**: `abs`, `add`, `avg`, `ceil`, `divide`, `floor`, `minus`, `multiply`, `plus`, `round`, `subtract`, `sum`
- **Number helpers**: `bytes`, `addCommas`, `phoneNumber`, `toAbbr`, `toExponential`, `toFixed`, `toFloat`, `toInt`, `toPrecision`
- **Object helpers**: `extend`, `forIn`, `forOwn`, `toPath`, `get`, `getObject`, `hasOwn`, `isObject`, `JSONparse`, `JSONstringify`, `merge`, `pick`, `omit`
- **Path helpers**: `basename`, `dirname`, `extname`, `segments`
- **String helpers**: `append`, `camelcase`, `capitalize`, `center`, `chop`, `dashcase`, `dotcase`, `downcase`, `ellipsis`, `hyphenate`, `isString`, `lowercase`, `occurrences`, `pascalcase`, `pathcase`, `plusify`, `quotify`, `replace`, `reverse`, `sentence`, `snakecase`, `split`, `startsWith`, `titleize`, `trim`, `truncate`, `upcase`, `uppercase`
- **URL helpers**: `encodeURI`, `escape`, `decodeURI`

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## Testing

```bash
npm test
```

## License

MIT © Your Organization

## Changelog

### 1.0.0
- Initial release
- Full Handlebars syntax support
- HTML integration
- Tailwind CSS compatibility
- Production-ready parser and printer
